"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _construct(e,t,n){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(o,n.prototype),o}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Card=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).timerId=null,e}return _inherits(t,_wrapNativeSuper(HTMLElement)),_createClass(t,[{key:"connectedCallback",value:function(){var e=this,t=this.getAttribute("title"),n=this.getAttribute("desc");this.innerHTML='\n      <div class="card">\n        <div class="card__title">'.concat(t,'</div>\n        <div class="card__desc">').concat(n,'</div>\n        <div class="card__deadline">\n          Осталось: \n          <span class="card__day"></span> Дня\n          <span class="card__hours"></span> часов\n          <span class="card__minutes"></span> минут\n          <span class="card__seconds"></span> секунд\n        </div>\n        <div class="card__delete" onclick="this.parentNode.parentNode.remove()" >\n          Удалить\n        </div>\n      </div>\n    '),this.renderDeadline(),this.timerId=setInterval(function(){e.renderDeadline()},1e3)}},{key:"disconnectedCallback",value:function(){clearInterval(this.timerId)}},{key:"calculateDeadline",value:function(e,t){var n=Date.parse("".concat(e," ").concat(t))-Date.now(),r=Math.floor(n/1e3%60),o=Math.floor((n-r)/6e4%60),i=Math.floor((n-o)/36e5%24);return{days:Math.floor((n-i)/864e5),hours:i,minutes:o,seconds:r}}},{key:"renderDeadline",value:function(){var e=this.querySelector(".card__day"),t=this.querySelector(".card__hours"),n=this.querySelector(".card__minutes"),r=this.querySelector(".card__seconds"),o=this.getAttribute("date"),i=this.getAttribute("time"),c=this.calculateDeadline(o,i),u=c.days,s=c.hours,a=c.minutes,l=c.seconds;e.innerHTML=u,t.innerHTML=s,n.innerHTML=a,r.innerHTML=l}}]),t}(),Popup=function(){function e(t){var n=t.popup,r=t.overlay;_classCallCheck(this,e),this.popup=n,this.overlay=r}return _createClass(e,[{key:"show",value:function(){this._togglePopup(!0)}},{key:"hide",value:function(){this._togglePopup(!1)}},{key:"_togglePopup",value:function(e){e?(this.popup.classList.add("show"),this.overlay.classList.add("show"),this.popup.classList.remove("hide"),this.overlay.classList.remove("hide")):(this.popup.classList.add("hide"),this.overlay.classList.add("hide"),this.popup.classList.remove("show"),this.overlay.classList.remove("show"))}}]),e}();customElements.define("new-card",Card);var addBtn=document.querySelector(".add"),overlay=document.querySelector(".overlay"),popup=document.querySelector(".popup"),closeBtn=document.querySelector(".popup__close"),cards=document.querySelector(".deadlines"),titleInput=document.querySelector(".popup__title"),descInput=document.querySelector(".popup__desc"),dateInput=document.querySelector(".popup__date"),timeInput=document.querySelector(".popup__time"),addTask=document.querySelector(".popup__btn"),taskPopup=new Popup({popup:popup,overlay:overlay});function isEmptyField(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return""===e.value})}function createCardWith(e){var t=document.createElement("new-card");t.setAttribute("title",e.title),t.setAttribute("desc",e.desc),t.setAttribute("date",e.date),t.setAttribute("time",e.time),cards.appendChild(t)}addBtn.addEventListener("click",function(){taskPopup.show()}),closeBtn.addEventListener("click",function(){taskPopup.hide()}),addTask.addEventListener("click",function(){isEmptyField(titleInput,descInput,dateInput,timeInput)||(createCardWith({title:titleInput.value,desc:descInput.value,date:dateInput.value,time:timeInput.value}),taskPopup.hide())});
//# sourceMappingURL=main.js.map
